<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hiá»ƒu sÃ¢u vá» Event Loop trong JavaScript â€“ CÆ¡ cháº¿ báº¥t Ä‘á»“ng bá»™ mÆ°á»£t mÃ </title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #111827;
      --link-hover: #2563eb;
      --border-color: #e5e7eb;
    }

    body.dark {
      --bg-color: #111827;
      --text-color: #f9fafb;
      --border-color: #374151;
      background: var(--bg-color);
      color: var(--text-color);
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s ease, color 0.3s ease;
    }

     
    header {
      background: var(--bg-color);
      border-bottom: 1px solid var(--border-color);
      padding: 1.3rem 8%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
    }

    header.scrolled {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .logo {
      font-weight: 800 !important;
      font-size: 1.6rem !important;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      color: var(--text-color);
      letter-spacing: 0.4px;
    }

    .nav-links {
      display: flex;
      gap: 2.5rem;
      align-items: center;
    }

    .nav-links a {
      font-weight: 600 !important;
      font-size: 1.15rem !important;
      color: var(--text-color) !important;
      position: relative;
      text-decoration: none;
      transition: color 0.3s;
    }

     
    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px;
      width: 0%;
      height: 2px;
      background-color: var(--link-hover);
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 100%;
    }

    .nav-links a:hover {
      color: var(--link-hover);
    }

    .theme-toggle {
      cursor: pointer;
      font-size: 1.4rem;
      transition: transform 0.3s ease;
    }

    .theme-toggle:hover {
      transform: rotate(20deg);
    }

     
    footer {
      background: var(--bg-color);
      color: var(--text-color);
      text-align: center;
      padding: 2rem;
      font-size: 0.9rem;
      border-top: 1px solid var(--border-color);
      margin-top: 3rem;
      transition: background 0.3s, color 0.3s;
    }

    footer a {
      color: var(--link-hover);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

     
    @media (max-width: 800px) {
      header {
        padding: 1rem 6%;
      }

      .logo {
        font-size: 1.3rem !important;
      }

      .nav-links {
        gap: 1.5rem;
      }

      .nav-links a {
        font-size: 1rem !important;
      }
    }
  </style>
</head>

<body>
  
  <header id="siteHeader">
    <div class="logo">
      <strong>LÃª Thá»‹ Huyá»n Trang</strong>
      <span class="theme-toggle" id="themeToggle">ğŸŒ™</span>
    </div>

    <nav class="nav-links">
      <a href="https://huyentrang-3331.github.io/MyWebBlog/" class="">Home</a>
      <a href="https://huyentrang-3331.github.io/MyWebBlog/profile/" class="">Profile</a>
      <a href="https://huyentrang-3331.github.io/MyWebBlog/blog/" class="active">Blog</a>
      <a href="https://huyentrang-3331.github.io/MyWebBlog/contact/" class="">Contact</a>
    </nav>
  </header>

  
  <main>
    
<article class="post-container">
  <div class="post-card">
    <h1 class="post-title">Hiá»ƒu sÃ¢u vá» Event Loop trong JavaScript â€“ CÆ¡ cháº¿ báº¥t Ä‘á»“ng bá»™ mÆ°á»£t mÃ </h1>
    <p class="post-date">ğŸ•“ ÄÄƒng ngÃ y 05/09/2025</p>

    
    <img src="https://huyentrang-3331.github.io/MyWebBlog/images/event.jpg" alt="Hiá»ƒu sÃ¢u vá» Event Loop trong JavaScript â€“ CÆ¡ cháº¿ báº¥t Ä‘á»“ng bá»™ mÆ°á»£t mÃ " class="post-image" />
    

    <div class="post-content">
      <blockquote>
<p>âš¡ <strong>â€œHiá»ƒu Event Loop â€“ náº¯m linh há»“n JavaScript.â€</strong></p></blockquote>
<p>JavaScript lÃ  ngÃ´n ngá»¯ <strong>Ä‘Æ¡n luá»“ng (single-thread)</strong>, nghÄ©a lÃ  chá»‰ cÃ³ <strong>má»™t luá»“ng thá»±c thi</strong> duy nháº¥t.<br>
Tháº¿ nhÆ°ng, má»—i khi ta gá»i <code>setTimeout()</code>, <code>fetch()</code>, hay thao tÃ¡c DOM, má»i thá»© váº«n diá»…n ra â€œsong songâ€ mÆ°á»£t mÃ .<br>
BÃ­ máº­t náº±m á»Ÿ cÆ¡ cháº¿ <strong>Event Loop</strong>.</p>
<hr>
<h1 id="-1-javascript-lÃ -ngÃ´n-ngá»¯-Ä‘Æ¡n-luá»“ng">ğŸ§  1. JavaScript lÃ  ngÃ´n ngá»¯ Ä‘Æ¡n luá»“ng</h1>
<p>JavaScript chá»‰ cÃ³ <strong>má»™t Call Stack</strong> â€“ nÆ¡i má»i Ä‘oáº¡n mÃ£ Ä‘Æ°á»£c thá»±c thi tuáº§n tá»±.<br>
Náº¿u má»™t Ä‘oáº¡n code chiáº¿m dá»¥ng quÃ¡ lÃ¢u, nÃ³ sáº½ â€œcháº·nâ€ toÃ n bá»™ chÆ°Æ¡ng trÃ¬nh.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Báº¯t Ä‘áº§u&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1e9</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {} <span style="color:#75715e">// vÃ²ng láº·p cá»±c lá»›n
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Káº¿t thÃºc&#34;</span>);
</span></span></code></pre></div><p>ğŸ’¥ Khi cháº¡y, trÃ¬nh duyá»‡t sáº½ bá»‹ Ä‘á»©ng vÃ i giÃ¢y vÃ¬ Call Stack bá»‹ chiáº¿m toÃ n bá»™.</p>
<hr>
<h1 id="-2-thÃ nh-pháº§n-trong-cÆ¡-cháº¿-event-loop">âš™ï¸ 2. ThÃ nh pháº§n trong cÆ¡ cháº¿ Event Loop</h1>
<p>CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng dá»±a trÃªn ba thÃ nh pháº§n chÃ­nh:</p>
<table>
  <thead>
      <tr>
          <th>ThÃ nh pháº§n</th>
          <th>Vai trÃ²</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Call Stack</strong></td>
          <td>Thá»±c thi cÃ¡c lá»‡nh Ä‘á»“ng bá»™.</td>
      </tr>
      <tr>
          <td><strong>Web APIs</strong></td>
          <td>Xá»­ lÃ½ cÃ¡c tÃ¡c vá»¥ báº¥t Ä‘á»“ng bá»™ (nhÆ° <code>setTimeout</code>, <code>fetch</code>, DOM events, â€¦).</td>
      </tr>
      <tr>
          <td><strong>Task Queues</strong></td>
          <td>NÆ¡i chá»©a callback sáºµn sÃ ng Ä‘Æ°á»£c thá»±c thi â€“ gá»“m Microtask &amp; Macrotask.</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="-3-mÃ´-phá»ng-hoáº¡t-Ä‘á»™ng-tá»•ng-quÃ¡t">ğŸ” 3. MÃ´ phá»ng hoáº¡t Ä‘á»™ng tá»•ng quÃ¡t</h1>
<pre tabindex="0"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Call Stack          â”‚ â† Cháº¡y tá»«ng lá»‡nh JS
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web APIs   â”‚ â† Thá»±c thi async (setTimeout, fetch)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Task Queues            â”‚
â”‚ - Microtask Queue (Promise)  â”‚
â”‚ - Macrotask Queue (Timeout)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Event Loop â”‚ â† Kiá»ƒm tra Stack &amp; Ä‘áº©y callback tá»« Queue lÃªn Stack
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><blockquote>
<p>ğŸ”„ Event Loop liÃªn tá»¥c â€œquan sÃ¡tâ€ Stack. Khi Stack rá»—ng, nÃ³ láº¥y callback trong Queue Ä‘á»ƒ thá»±c thi.</p></blockquote>
<hr>
<h1 id="-4-vÃ­-dá»¥-cÆ¡-báº£n-settimeout-vÃ -promise">ğŸ§© 4. VÃ­ dá»¥ cÆ¡ báº£n: <code>setTimeout</code> vÃ  <code>Promise</code></h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;A&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;B&#34;</span>), <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>Promise.<span style="color:#a6e22e">resolve</span>().<span style="color:#a6e22e">then</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;C&#34;</span>));
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;D&#34;</span>);
</span></span></code></pre></div><p>ğŸ“œ <strong>Káº¿t quáº£:</strong></p>
<pre tabindex="0"><code>A
D
C
B
</code></pre><p><strong>Giáº£i thÃ­ch:</strong></p>
<ol>
<li><code>A</code> vÃ  <code>D</code> cháº¡y Ä‘á»“ng bá»™ trÃªn Call Stack.</li>
<li><code>setTimeout()</code> Ä‘áº©y callback <code>B</code> sang Web API â†’ chá» â†’ vÃ o Macrotask Queue.</li>
<li><code>Promise.then()</code> Ä‘áº©y callback <code>C</code> vÃ o Microtask Queue.</li>
<li>Khi Stack trá»‘ng â†’ Event Loop láº¥y Microtask <code>C</code> cháº¡y trÆ°á»›c â†’ sau Ä‘Ã³ má»›i Ä‘áº¿n Macrotask <code>B</code>.</li>
</ol>
<hr>
<h1 id="-5-microtask-vs-macrotask">âš–ï¸ 5. Microtask vs Macrotask</h1>
<table>
  <thead>
      <tr>
          <th>Loáº¡i tÃ¡c vá»¥</th>
          <th>VÃ­ dá»¥</th>
          <th>Khi thá»±c thi</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Microtask</strong></td>
          <td><code>Promise.then()</code>, <code>queueMicrotask()</code> -</td>
          <td>Ngay sau khi Stack trá»‘ng</td>
      </tr>
      <tr>
          <td><strong>Macrotask</strong></td>
          <td><code>setTimeout</code>, <code>setInterval</code>, I/O</td>
          <td>Sau khi táº¥t cáº£ Microtask hoÃ n thÃ nh</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;timeout&#34;</span>), <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>Promise.<span style="color:#a6e22e">resolve</span>().<span style="color:#a6e22e">then</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;promise&#34;</span>));
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;main&#34;</span>);
</span></span></code></pre></div><p>ğŸ“œ <strong>Káº¿t quáº£:</strong></p>
<pre tabindex="0"><code>main
promise
timeout
</code></pre><blockquote>
<p>âš¡ <strong>Microtask (Promise)</strong> luÃ´n cÃ³ Ä‘á»™ Æ°u tiÃªn cao hÆ¡n <strong>Macrotask (Timeout)</strong>.</p></blockquote>
<hr>
<h1 id="-6-váº¥n-Ä‘á»-blocking-vÃ -cÃ¡ch-kháº¯c-phá»¥c">ğŸ§± 6. Váº¥n Ä‘á» Blocking vÃ  cÃ¡ch kháº¯c phá»¥c</h1>
<p>Äoáº¡n code sau lÃ m â€œÄ‘Æ¡â€ giao diá»‡n ngÆ°á»i dÃ¹ng:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1e9</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;HoÃ n thÃ nh&#34;</span>);
</span></span></code></pre></div><p>âœ… CÃ¡ch kháº¯c phá»¥c â€” chia nhá» cÃ´ng viá»‡c:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">process</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1e7</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">count</span><span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;ÄÃ£ xá»­ lÃ½:&#34;</span>, <span style="color:#a6e22e">count</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">count</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1e9</span>) <span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">process</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">process</span>();
</span></span></code></pre></div><p>Nhá» chia nhá» báº±ng <code>setTimeout</code>, má»—i pháº§n Ä‘Æ°á»£c xá»­ lÃ½ á»Ÿ vÃ²ng Event Loop khÃ¡c nhau â†’ giao diá»‡n váº«n pháº£n há»“i mÆ°á»£t mÃ .</p>
<hr>
<h1 id="-7-vÃ­-dá»¥-nÃ¢ng-cao-promise-lá»“ng-nhau-vÃ -timeout">âš¡ 7. VÃ­ dá»¥ nÃ¢ng cao: Promise lá»“ng nhau vÃ  Timeout</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;1: Start&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;2: Timeout 1&#34;</span>), <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Promise.<span style="color:#a6e22e">resolve</span>()
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;3: Promise 1&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Promise.<span style="color:#a6e22e">resolve</span>();
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;4: Promise 2&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;5: Timeout 2&#34;</span>), <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;6: End&#34;</span>);
</span></span></code></pre></div><p>ğŸ“œ <strong>Káº¿t quáº£:</strong></p>
<pre tabindex="0"><code>1: Start
6: End
3: Promise 1
4: Promise 2
2: Timeout 1
5: Timeout 2
</code></pre><p>ğŸ§  <strong>Giáº£i thÃ­ch:</strong></p>
<ul>
<li><code>Promise</code> náº±m trong <strong>Microtask Queue</strong>, cháº¡y trÆ°á»›c táº¥t cáº£ Timeout (Macrotask).</li>
<li>Event Loop Æ°u tiÃªn cháº¡y toÃ n bá»™ Microtask trÆ°á»›c khi chuyá»ƒn sang Macrotask.</li>
</ul>
<hr>
<h1 id="-8-event-loop-trong-nodejs">ğŸ§® 8. Event Loop trong Node.js</h1>
<p>Node.js cÅ©ng cÃ³ Event Loop, nhÆ°ng chia thÃ nh 6 giai Ä‘oáº¡n chÃ­nh:</p>
<ol>
<li><strong>Timers</strong> â†’ Xá»­ lÃ½ <code>setTimeout</code>, <code>setInterval</code>.</li>
<li><strong>Pending callbacks</strong> â†’ CÃ¡c callback bá»‹ hoÃ£n.</li>
<li><strong>Idle, prepare</strong> â†’ Ná»™i bá»™ Node.js.</li>
<li><strong>Poll</strong> â†’ Äá»£i cÃ¡c I/O event má»›i.</li>
<li><strong>Check</strong> â†’ Xá»­ lÃ½ <code>setImmediate()</code>.</li>
<li><strong>Close callbacks</strong> â†’ Dá»n dáº¹p káº¿t ná»‘i.</li>
</ol>
<blockquote>
<p>ğŸ”¹ Giá»¯a má»—i giai Ä‘oáº¡n, Node.js cÅ©ng xá»­ lÃ½ <strong>Microtask Queue</strong> giá»‘ng Promise trong trÃ¬nh duyá»‡t.</p></blockquote>
<hr>
<h1 id="-9-mÃ´-phá»ng-thá»±c-táº¿-gá»i-api-vÃ -cáº­p-nháº­t-ui">ğŸŒ 9. MÃ´ phá»ng thá»±c táº¿: gá»i API vÃ  cáº­p nháº­t UI</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;1. Gá»i API...&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#34;https://api.github.com/users/octocat&#34;</span>)
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;2. Dá»¯ liá»‡u Ä‘Ã£ vá»&#34;</span>))
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">then</span>(() =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;3. Cáº­p nháº­t UI&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;4. NgÆ°á»i dÃ¹ng váº«n thao tÃ¡c Ä‘Æ°á»£c&#34;</span>);
</span></span></code></pre></div><p>ğŸ“œ <strong>Káº¿t quáº£:</strong></p>
<pre tabindex="0"><code>1. Gá»i API...
4. NgÆ°á»i dÃ¹ng váº«n thao tÃ¡c Ä‘Æ°á»£c
2. Dá»¯ liá»‡u Ä‘Ã£ vá»
3. Cáº­p nháº­t UI
</code></pre><p>ğŸ¯ Nhá» Event Loop, ngÆ°á»i dÃ¹ng váº«n cÃ³ thá»ƒ click, nháº­p liá»‡u, vÃ  cuá»™n trang trong khi JavaScript Ä‘ang chá» pháº£n há»“i máº¡ng.</p>
<hr>
<h1 id="-10-tá»•ng-káº¿t-kiáº¿n-thá»©c">ğŸ§¾ 10. Tá»•ng káº¿t kiáº¿n thá»©c</h1>
<table>
  <thead>
      <tr>
          <th>ThÃ nh pháº§n</th>
          <th>Vai trÃ²</th>
          <th>VÃ­ dá»¥</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Call Stack</strong></td>
          <td>Thá»±c thi lá»‡nh Ä‘á»“ng bá»™</td>
          <td><code>console.log()</code></td>
      </tr>
      <tr>
          <td><strong>Web APIs</strong></td>
          <td>Xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™</td>
          <td><code>fetch()</code>, <code>setTimeout()</code></td>
      </tr>
      <tr>
          <td><strong>Microtask Queue</strong></td>
          <td>LÆ°u callback Promise</td>
          <td><code>.then()</code>, <code>await</code></td>
      </tr>
      <tr>
          <td><strong>Macrotask Queue</strong></td>
          <td>LÆ°u cÃ¡c callback lá»›n</td>
          <td><code>setTimeout</code>, <code>I/O</code>, <code>UI event</code></td>
      </tr>
      <tr>
          <td><strong>Event Loop</strong></td>
          <td>GiÃ¡m sÃ¡t &amp; Ä‘iá»u phá»‘i</td>
          <td>Kiá»ƒm tra Stack, Ä‘áº©y tÃ¡c vá»¥ vÃ o thá»±c thi</td>
      </tr>
  </tbody>
</table>
<hr>
<h1 id="-káº¿t-luáº­n">ğŸ¯ Káº¿t luáº­n</h1>
<ul>
<li>JavaScript <strong>chá»‰ cÃ³ má»™t luá»“ng</strong>, nhÆ°ng nhá» Event Loop mÃ  cÃ³ thá»ƒ cháº¡y hÃ ng loáº¡t tÃ¡c vá»¥ báº¥t Ä‘á»“ng bá»™ mÆ°á»£t mÃ .</li>
<li><strong>Microtask</strong> (Promise, async/await) luÃ´n cháº¡y <strong>trÆ°á»›c</strong> <strong>Macrotask</strong> (setTimeout, event).</li>
<li>Náº¯m vá»¯ng Event Loop giÃºp:
<ul>
<li>Viáº¿t code khÃ´ng bá»‹ cháº·n.</li>
<li>Tá»‘i Æ°u hiá»‡u nÄƒng web.</li>
<li>Hiá»ƒu sÃ¢u vá» hoáº¡t Ä‘á»™ng cá»§a Node.js &amp; trÃ¬nh duyá»‡t.</li>
</ul>
</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>HÃ£y cháº¡y thá»­ tá»«ng vÃ­ dá»¥ trÃªn trong Console.</strong><br>
Khi báº¡n hiá»ƒu thá»© tá»± thá»±c thi log, báº¡n Ä‘Ã£ hiá»ƒu cÃ¡ch JavaScript tháº­t sá»± váº­n hÃ nh.</p></blockquote>
<hr>
<h1 id="-tÃ i-liá»‡u-tham-kháº£o">ğŸ“š TÃ i liá»‡u tham kháº£o</h1>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop">MDN â€“ Concurrency model and Event Loop</a></li>
<li><a href="https://www.youtube.com/watch?v=cCOL7MC4Pl0">Jake Archibald â€“ In The Loop (JSConf)</a></li>
<li><a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/">Node.js Docs â€“ Event Loop, Timers, and process.nextTick()</a></li>
<li><a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">Philip Roberts â€“ What the heck is the Event Loop anyway?</a></li>
</ul>
<hr>

    </div>

    <div class="back-link">
      <a href="https://huyentrang-3331.github.io/MyWebBlog/blog/">â† Quay láº¡i danh sÃ¡ch bÃ i viáº¿t</a>
    </div>
  </div>
</article>

<style>
  .post-container {
    display: flex;
    justify-content: center;
    padding: 3rem 1rem;
    background: var(--bg-color);
    color: var(--text-color);
  }

  .post-card {
    background: #fff;
    border-radius: 20px;
    padding: 3rem;
    max-width: 850px;
    width: 100%;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    transition: 0.3s;
  }

  body.dark .post-card {
    background: #1f2937;
  }

  .post-title {
    font-size: 2rem;
    font-weight: 800;
    color: var(--text-color);
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .post-date {
    text-align: center;
    font-size: 0.95rem;
    color: #6b7280;
    margin-bottom: 1.5rem;
  }

  .post-image {
    width: 100%;
    height: auto;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
  }

  .post-content {
    font-size: 1.05rem;
    line-height: 1.8;
    color: var(--text-color);
  }

  .post-content h2 {
    margin-top: 2rem;
    font-size: 1.5rem;
    font-weight: 700;
    color: #1e40af;
  }

  .post-content p {
    margin-bottom: 1rem;
  }

  .post-content code {
    background: #f3f4f6;
    padding: 2px 6px;
    border-radius: 5px;
    font-size: 0.95rem;
  }

  body.dark .post-content code {
    background: #374151;
  }

  pre {
    background: #f9fafb;
    padding: 1rem;
    border-radius: 10px;
    overflow-x: auto;
    margin-bottom: 1.5rem;
  }

  body.dark pre {
    background: #111827;
  }

  .back-link {
    margin-top: 2.5rem;
    text-align: center;
  }

  .back-link a {
    display: inline-block;
    color: #2563eb;
    font-weight: 600;
    text-decoration: none;
    transition: 0.3s;
  }

  .back-link a:hover {
    color: #1d4ed8;
    text-decoration: underline;
  }

.post-content a {
  color: #2563eb;
  text-decoration: none;
  transition: color 0.25s ease;
}

.post-content a:hover {
  color: #1e3a8a;
  text-decoration: underline;
}

body.dark .post-content a {
  color: #93c5fd; 

body.dark .post-content a:hover {
  color: #60a5fa; 
  text-shadow: 0 0 8px rgba(96, 165, 250, 0.5);
}

</style>

  </main>

  
  <footer>
    Â© 2025 <strong>LÃª Thá»‹ Huyá»n Trang</strong> â€” Blog láº­p trÃ¬nh máº¡ng |
    <a href="https://github.com/">GitHub</a> |
    <a href="https://linkedin.com/">LinkedIn</a>
  </footer>

  
  <script>
    const toggleBtn = document.getElementById('themeToggle');
    const body = document.body;
    const header = document.getElementById('siteHeader');

    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark');
      toggleBtn.textContent = 'â˜€ï¸';
    }

    toggleBtn.addEventListener('click', () => {
      body.classList.toggle('dark');
      const darkMode = body.classList.contains('dark');
      toggleBtn.textContent = darkMode ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', darkMode ? 'dark' : 'light');
    });

    window.addEventListener('scroll', () => {
      if (window.scrollY > 20) header.classList.add('scrolled');
      else header.classList.remove('scrolled');
    });
  </script>
</body>
</html>
